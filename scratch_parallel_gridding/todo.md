# decorator normal perf_counter with args that saves to csv maybe cProfile also

# gridding should be moved to a C function : since we switched to mpi it's better to go to native C, maybe we will not gain but this should be as a show case

# why do we use xarray instead of dask ...

# convert dataset to netCDF and HDF5 and compare the results and/or IO

# jitting maybe?

# vectorize scaling over speed of light the division of freq

# for += vis do a grid for all timesteps then do a sum on all grid for each timestep

# round function in python is slow, other ....

# We compute positions in wavelengths and global positions once for all frequencies outside the loop to minimize repeated computations.
